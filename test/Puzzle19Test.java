import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

class Puzzle19Test {
    private String TEST_INPUT =
            "     |          \n" +
                    "     |  +--+    \n" +
                    "     A  |  C    \n" +
                    " F---|----E|--+ \n" +
                    "     |  |  |  D \n" +
                    "     +B-+  +--+ \n";

    private String INPUT =
            "                   |                                                                                                                                                                                     \n" +
                    "   +---+ +-------------------------------------------------------------------------------+ +-----+                       +---------------------------------------------------------------------+     +-+ \n" +
                    "   |   | |         |                                                                     | |     |                       |                                                                     |     | | \n" +
                    "   |   | |       +-------------------------------------------------------------------------|-----|-----------------------+         +-----------------------------------------------------------|-+   | | \n" +
                    "   |   | |       | |                                                                     | |     |                                 |                                                           | |   | | \n" +
                    "   |   | |       +-+   +-------------------+       +-+ +-----+                   +-------|-------------------------------+         |                                                           | |   | | \n" +
                    "   |   | |             |                   |       | | |     |                   |       | |     |                       |         |                                                           | |   | | \n" +
                    " +---+ | +---------------------------------|---+ +-|---------------------------+ |       | | +-+ |                   +-------------|-+                                         +---------------|-|---|-+ \n" +
                    " | | | |               |                   |   | | | | |     |                 | |       | | | | |                   |   |         | |                                         |               | |   |   \n" +
                    " +-+ +-----------+     |                   |   | | | +-|-----|---+ +-----+     | |       | | | | |               +-+ |   |         | |                                         |               | |   |   \n" +
                    "       |         |     |                   |   | | |   |     |   | |     |     | |       | | | | |               | | |   |         | |                                         |               | |   |   \n" +
                    "       |     +-+ +---+ |                   |   | | | +-------------------+   +-+ +-+     | | | +-|-------------------|---|------------------------------------------------L--------+           | |   |   \n" +
                    "       |     | |     | |                   |   | | | | |     |   | |         |     |     | | |   |               | | |   |         | |                                         |   |           | |   |   \n" +
                    "       |     | |     +-----------------+   |   | | | | |     |   | |         |     +-----|-|-----|---------------|-----------------+ |                                         |   |           | |   |   \n" +
                    "       |     | |       |               |   |   | | | | |     |   | |         |           | | |   |               | | |   |           |                                         |   |           | |   |   \n" +
                    "       +-----|-----+ +-----------------|-----+ | | | | |     | +-+ |   +-----|---+       | | |   |               | | |   +-----------|-+           +-------------------------+ |   |           | |   |   \n" +
                    "             | |   | | |               |   | | | | | | |     | |   |   |     |   |       | | |   |               | | |               | |           |                         | |   |           | |   |   \n" +
                    "       +-----|-----|-|-|---+       +---|---|---|---|---|---------------------------------|-|-|-------------------|-|-----+         +---+           |                         | |   |           | | +-|-+ \n" +
                    "       |     | |   | | |   |       |   |   | | | | | | |     | |   |   |     |   |       | | |   |               | | |   |         | |             |                         | |   |           | | | | | \n" +
                    "   +---------|-----|-|-|---------------+   +---|-----|-|---------------|---------|-------|---|-------+           | | |   |         | |             |                         | |   |           | | | | | \n" +
                    "   |   |     | |   | | |   |       |         | | | | | |     | |   |   |     |   |       | | |   |   |           | | |   |         | |             |                         | |   |           | | | | | \n" +
                    " +-|-+ |     | |   +---------------|---------|-|-----+ | +---|-|---|---------------------|-|---------|-----------|-+ |   +---------|-|-------------|-------------------------------+           | | | | | \n" +
                    " | | | |     | |     | |   |       |         | | | |   | |   | |   |   |     |   |       | | |   |   |           |   |             | |             |                         | |               | | | | | \n" +
                    " +-+ | | +-----------|-|---|-------|---------|-----|---+ |   | | +-+   |     | +-------------|---|---|-----------|-----+           | |           +---------+                 | |               | | | | | \n" +
                    "     | | |   | |     | |   |       |         | | | |     |   | | |     |     | | |       | | |   |   |           |   | |           | |           | |       |                 | |               | | | | | \n" +
                    "     | | |   | |     | |   |       |         | | | | +---|-------|---+ |   +---|-|---------|-|-------|-----------|---|-|-----------|-------------|---------------------------|---------+     +-----+ | | \n" +
                    "     | | |   | |     | |   |       |         | | | | |   |   | | |   | |   | | | |       | | |   |   |           |   | |           | |           | |       |                 | |       |     | | |   | | \n" +
                    "     | | |   | |     | |   |       |         | | | | |   |   | | +-P | |   | | | |       | | |   |   |           |   | |           | |           | |       |                 | |     +---------|-|-+ | | \n" +
                    "     | | |   | |     | |   |       |         | | | | |   |   | |     | |   | | | |       | | |   |   |           |   | |           | |           | |       |                 | |     | |     | | | | | | \n" +
                    " +---|-|-|---|---------|---|---+   |         | | | | |   |   | | +-+ | |   +-|-|-|-----------|-------------------------------------|-|-----------|-------+ |                 | |     | |     | | | | | | \n" +
                    " |   | | |   | |     | |   |   |   |         | | | | |   |   | | | | | |     | | |       | | |   |   |           |   | |           | |           | |     | |                 | |     | |     | | | | | | \n" +
                    " |   | | |   | |     | |   |   +---|-------------|-|-|-------|-|---|-----------|-----------|---------+           |   | |           | |           | |     | |                 | |     | |     | | | | | | \n" +
                    " |   | | |   | |     | |   |       |         | | | | |   |   | | | | | |     | | |       | | |   |               |   | |           | |           | |     | |                 | |     | |     | | | | | | \n" +
                    " |   | | |   | |     | |   |     +-|---------|---|-|-|-------|---|---|-|-----|-|-----------|---------------------|-----------------------+       | |     | |                 | |     | |     | | | | | | \n" +
                    " |   | | |   | |     | |   |     | |         | | | | |   |   | | | | | |     | | |       | | |   |               |   | |           | |   |       | |     | |                 | |     | |     | | | | | | \n" +
                    " +-----|-|---------------+ |     | |         | | | | |   |   | | | | | | +---|---|---------------|---------------------|-----------|-----|---------|---------------------------------|-|-----+ | | | | | \n" +
                    "     | | |   | |     | | | |     | |         | | | | |   |   | | | | | | |   | | |       | | |   |               |   | |           | |   |       | |     | |                 | |     | |       | | | | | \n" +
                    "     | | |   | |     | | | |     | |         | | +---|---+   | | +-|---|-|---|-|-|-------|---|-------------------|---|-------------------|---------|-----|-|-------+         | |     +-|-----+ | +-|-|-+ \n" +
                    "     | | |   | |     | | | |     | |         | |   | |       | |   | | | |   | | |       | | |   |               |   | |           | |   |       | |     | |       |         | |       |     | |   | |   \n" +
                    " +---|---------|-----|-------------|---------|-----|-|-------------|-----|-----|-------+ | | |   |               |   | |           | |   |       | |     | |       |         | |       |     | |   | |   \n" +
                    " |   | | |   | |     | | | |     | |         | |   | |       | |   | | | |   | | |     | | | |   |               |   | |           | |   |       | |     | |       |         | |       |     | |   | |   \n" +
                    " |   | | |   | | +---|-|---|-------|-----------------|-------|---------|-|---|---|---------------|---------------------|-----------|-|---|---+   | |     | |       |         | |       |     | |   | |   \n" +
                    " |   | | |   | | |   | | | |     | |         | |   | |       | |   | | | |   | | |     | | | |   |               |   | |           | |   |   |   | |     | |       |         | |       |     | |   | |   \n" +
                    " |   | | |   | | |   | | | |     | |         | |   | |       | |   | +-|-|---|-|-------|---------|-------------+ |   | |           | |   |   |   | |     | |       |         | |       |     | |   | |   \n" +
                    " |   | | |   | | |   | | | |     | |         | |   | |       | |   |   | |   | | |     | | | |   |             | |   | |           | |   |   |   | |     | |       |         | |       |     | |   | |   \n" +
                    " |   | | |   | | | +-|---|-------|-|-------------------------|-|---|---|-----|-|---------------------------------|---|-------------|-----|---+   | |     | |       |         | |   +---|---+ | |   | |   \n" +
                    " |   | | |   | | | | | | | |     | |         | |   | |       | |   |   | |   | | |     | | | |   |             | |   | |           | |   |       | |     | |       |         | |   |   |   | | |   | |   \n" +
                    " |   | | |   | | | | | | | |     | |         | |   | |       | |   |   | | +---|-|-----|---|-|---|---------------|---|-|-----------|-----|-------+ |     | |       |         | |   |   |   | | |   | |   \n" +
                    " |   | | |   | | | | | | | |     | |         | |   | |       | |   |   | | | | | |     | | | |   |             | |   | |           | |   |         |     | |       |         | |   |   |   | | |   | |   \n" +
                    " |   +-|-----|-|-|-------|-|-------|-----------|---|---------|-|---|-+ | | | | | |     | | | |   |             | |   | |           | |   |         |     | |       |         | |   |   |   | | |   | |   \n" +
                    " |     | |   | | | | | | | |     | |         | |   | |       | |   | | | | | | | |     | | | |   |             | |   | |           | |   |         |     | |       |         | |   |   |   | | |   | |   \n" +
                    " +-------|---|-|---|-|-+ | |     | |         | |   | |       | |   | +-|-----|-|-|-------|-------|---------------------------------|---------------|-------------------------|---+ |   |   | | |   | |   \n" +
                    "       | |   | | | | |   | M     | |         | |   | |       | |   |   | | | | | |     | | | |   |             | |   | |           | |   |         |     | |       |         | | | |   |   | | |   | |   \n" +
                    "       | |   | | +-|-|-+ | |     | |         | |   | |       | |   |   | +---+ | +-----|-+ | |   |             | |   | |           | |   |         |     | |       |       +---|---+   |   | | |   | |   \n" +
                    "       | |   | |   | | | | |     | |         | |   | |       | |   |   |   |   |       |   | |   |             | |   | |           | |   |         |     | |       |       | | | |     |   | | |   | |   \n" +
                    "       | |   | |   | | | +-|-----|-------------|---|---------|-----|---|-------|-------------|-----------------|-|---|-------+     | |   |         |     | |       |       | | | |     |   | | |   | |   \n" +
                    "       | |   | |   | | |   |     | |         | |   | |       | |   |   |   |   |       |   | |   |             | |   | |     |     | |   |         |     | |       |       | | | |     |   | | |   | |   \n" +
                    "       | |   | |   | | |   | +---------------+ |   | | +-----|---------|-----------+   |   | |   |             | |   | |     |     +-|---|---------------|-----------+     | | | |     |   | | |   | |   \n" +
                    "       | |   | |   | | |   | |   | |           |   | | |     | |   |   |   |   |   |   |   | |   |             | |   | |     |       |   |         |     | |       | |     | | | |     |   | | |   | |   \n" +
                    "       | |   | |   | +-|---|-|---|-------+     |   | | |     | +-------|---|-----------+   | |   |             | |   | |     |       |   |         |     | |       | |     | | | |     |   | | |   +-|-+ \n" +
                    "       | |   | |   |   |   | |   | |     |     |   | | |     |     |   |   |   |   |       | |   |             | |   | |     |       |   |         |     | |       | |     | | | |     |   | | |     | | \n" +
                    " +-----|-----|-|-----------------|-|---------------|-+ |     | +---|---|---|-------|---------|-------------------|---|-|-----|-------|---|---------|-----|-|-------|-------|-|-+ |     |   | | | +-+ | | \n" +
                    " |     | |   | |   |   |   | |   | |     |     |   |   |     | |   |   |   |   |   |       | |   |             | |   | |     |       |   |         |     | |       | |     | |   |     |   | | | | | | | \n" +
                    " |     | |   | |   |   |   | |   | | +---------|---|---------------|---|---|---|-------------|-------------------------------|-----------|---------|-----+ |       | |     | |   |     |   | | | | | | | \n" +
                    " |     | |   | |   |   |   | |   | | |   |     |   |   |     | |   |   |   |   |   |       | |   |             | |   | |     |       |   |         |       |       | |     | |   |     |   | | | | | | A \n" +
                    " |   +-+ |   | +---|-------|-------------------|-------|-----|-------------|-----+ |       | |   |             | |   | |     |       |   |         |     +-----------------|-|---|-----|-----+ | | | | | \n" +
                    " |   |   |   |     |   |   | |   | | |   |     |   |   |     | |   |   |   |   | | |       | |   |             | |   | |     |       |   |         |     | |       O |     | |   |     |   |   | | | | | \n" +
                    " |   |   |   | +---|-------|-----|---------------------------|---------|-+ |   | | |       | |   |             | |   | |     |     +-----|-------------------------|-|-----|-|---+     |   |   | | | | | \n" +
                    " |   |   |   | |   |   |   | |   | | |   |     |   |   |     | |   |   | | |   | | |       | |   |             | |   | |     |     | |   |         |     | |       | |     | |         |   |   | | | | | \n" +
                    " |   |   |   | |   |   |   | |   | | |   |     |   |   +-----|-----+   | | |   | | |       | |   |             | |   | |     |     | |   |         |     | |       | |     | |         |   |   | | | | | \n" +
                    " |   |   |   | |   |   |   | |   | | |   |     |   |         | |       | | |   | | |       | |   |             | |   | |     |     | |   |         |     | |       | |     | |         |   |   | | | | | \n" +
                    " |   |   |   | |   |   |   | |   | | |   |     |   |         | |       | | |   | | |       | |   |             | | +-|-|-------------+   |         |     | |       | |     | |     +---|---------|-+ | | \n" +
                    " |   |   |   | |   |   |   | |   | | |   |     |   |         | |       | | |   | | |       | |   |             | | | | |     |     |     |         |     | |       | |     | |     |   |   |   | |   | | \n" +
                    " |   |   |   | |   |   |   | |   | | |   |     |   |         | |       | | |   | | |       | |   |             +-----|-|---------+ |     +---------|---------------+ |     | |     |   |   |   | |   | | \n" +
                    " |   |   |   | |   |   |   | |   | | |   |     |   |         | |       | | |   | | |       | |   |               | | | |     |   | |               |     | |         |     | |     |   |   |   | |   | | \n" +
                    " +-----------|-----|---|---|-|---|-|-----+     |   |         | |     +---|-------|-|---------|-------------------|---|-|-----|---------------------------|-----------|-------+     |   |   |   | |   | | \n" +
                    "     |   |   | |   |   |   | |   | | |         |   |         | |     | | | |   | | |       | |   |               | | | |     |   | |               |     | |         |     |       |   |   |   | |   | | \n" +
                    " +-+ |   |   | |   |   +---|-----|-|-----------|---------------|-----|---|-|-------|-------|-|---|---------------|-|---|-----|---------------------+     | |         |     |       |   |   |   | |   | | \n" +
                    " | | |   |   | |   |       | |   | | |         |   |         | |     | | | |   | | |       | |   |               | | | |     |   | |                     | |         |     |       |   |   |   | |   | | \n" +
                    " | | |   |   | |   |       | |   | | |         |   |         | |     | | | |   | | |       | |   |               | | | |     |   | |                     | |         +-----|-------|---|---------|-----+ \n" +
                    " | | |   |   | |   |       | |   | | |         |   |         | |     | | | |   | | |       | |   |               | | | |     |   | |                     | |               |       |   |   |   | |   |   \n" +
                    " | | |   +---|-------------+ |   | | |         |   |         | |     | | | |   | | |       | |   |               | | | |     |   | |                     | |   +-+       +-------------|---------+   |   \n" +
                    " | | |       | |   |         |   | | |         |   |         | |     | | | |   | | |       | |   |               | | | |     |   | |                     | |   | |       | |       |   |   |   |     |   \n" +
                    " | | |       | |   |         |   | | +---------|-------------|---------|-|-------------------|---------------------|-|-------------|---------------------------|-|-----------------|---|---|-----------+ \n" +
                    " | | |       | |   |         |   | |           |   |         | |     | | | |   | | |       | |   |               | | | |     |   | |                     | |   | |       | |       |   |   |   |     | | \n" +
                    " | | |       | |   | +---+   |   | |           |   |         | |     | | | |   | | |       | |   |               +-|---|-----|---|-|---------------+     +---------------|---------|---|---+   |     | | \n" +
                    " | | |       | |   | |   |   |   | |           |   |         | |     | | | |   | | |       | |   |                 | | |     |   | |               |       |   | |       | |       |   |       |     | | \n" +
                    " | | |       | |   | |   |   |   | |           +---|---------|-|-----|-----|-----|H--------|-----------------------|---|-----|-------+             |       |   | |       | |       |   |       | +-+ | | \n" +
                    " | | |       | |   | |   |   |   | |               |         | |     | | | |   | | |       | |   |                 | | |     |   | | |             |       |   | |       | |       |   |       | | | | | \n" +
                    " | | |       | |   | |   |   |   | |         +-----------------|-------|-+ |   +-|-|-------------------------------|---------|---|-|-+             |     +---------------|---+     |   |       | | | | | \n" +
                    " | | |       | |   | |   |   |   | |         |     |         | |     | |   |     | |       | |   |                 | | |     |   | |               |     | |   | |       | | |     |   |       | | | | | \n" +
                    " | | |       | |   | |   |   |   | |     +---------|-----------|-----|-----------|---+     | |   |                 | | |     |   | |               |     | |   | |       | | |     |   |       | | | | | \n" +
                    " | | |       | |   | |   |   |   | |     |   |     |         | |     | |   |     | | |     | |   |                 | | |     |   | |               |     | |   | |       | | |     |   |       | | | | | \n" +
                    " | | |       | |   | | +-|---|---+ |     |   |     |         | |     | |   |     | | |     | |   |                 | | |     |   | |               |     | |   | |       | | |     |   |       | | | | | \n" +
                    " | | |       | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |                 | | |     |   | |               |     | |   | |       | | |     |   |       | | | | | \n" +
                    " | | |       | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |                 | | |     |   +-|---------------------|-|---------+   | | |     |   |       | | | | | \n" +
                    " | | |       | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |                 | | |     |     |               |     | |   | |   |   | | |     |   |       | | | | | \n" +
                    " | +-|-+     | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |                 | | |     |     |               |     | |   | |   +-----+ |     |   |       | | | | | \n" +
                    " |   | |     | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |                 | | |     |     |               |     | |   | |       |   |     |   |       | | | | | \n" +
                    " |   | | +---|-|---|---|-|-------------------------|---------|-------------------|---------|-----|-------------+   | | |     |   +-----------------|-------|---|-----------------------|-------|---+ | | \n" +
                    " |   | | |   | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |             |   | | |     |   | |               |     | |   | |       |   |     |   |       | |   | | \n" +
                    " |   | | |   | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |             |   | | |     | +-|-----------------|-----|-|-----------------------+   |       | |   | | \n" +
                    " |   | | |   | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |             |   | | |     | | | |               |     | T   | |       |   |         |       | |   | | \n" +
                    " |   | | +---|-|---|-|---|---|---------------|-----------------|-----|-----------|---------|-----|-------------|---|-+ |     | | | |               |     | |   | |       |   |         |       | |   | | \n" +
                    " |   | |     | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |             |   |   |     | | | |               |     | |   | |       |   |         |       | |   | | \n" +
                    " | +-+ |     +-|-------|-|---|-----|-----|---|---------------|-|-----|-----------|---------------------------------|---|-----|-----|-----------------------------|---+   |   |         |       | |   | | \n" +
                    " | |   |       |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |             |   |   |     | | | |               |     | |   | |   |   |   |         |       | |   | | \n" +
                    " | | +-------+ |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |             |   |   |   +-+ | | | +-------+     | +---+ |   | |   |   |   |         |       | |   +-+ \n" +
                    " | | | |     | |   | | | |   |     |     |   |     |         | |     | |   |     | | |     | |   |             |   |   |   |   | | | |       |     | |     |   | |   |   |   |         |       | |       \n" +
                    " | | | |     | |   | | | |   |     |     |   |     |         | |     | |   |     +-----------|---------------------------------|-+ | |       |     | |     |   | |   |   |   |         |       | |       \n" +
                    " | | | |     | |   | | | |   |     |     |   |     |         | |     | |   |       | |     | |   |             |   |   |   |   |   | |       |     | |     |   | |   |   |   |         |       | |       \n" +
                    " | | +-|-----|-|---|-|-|-|---|-----------|-------------------|-------|---------------|-------|-----------------|---|-------|---------|-----+ |     | |     +---------|---------------------------|---+   \n" +
                    " | |   |     | |   | | | |   |     |     |   |     |         | |     | |   |       | |     | |   |             |   |   |   |   |   | |     | |     | |         | |   |   |   |         |       | |   |   \n" +
                    " | |   +-------|---|-|-|-----------|---------------+ +---------------|-|---|-------|---------|-----------------+   |   |   |   |   +-----------------------------|-------+   |         |       | |   |   \n" +
                    " | |         | |   | | | |   |     |     |   |       |       | |     | |   |       | |     | |   |                 |   |   |   |     |     | |     | |         | |   |       |         |       | |   |   \n" +
                    " | |         | |   | | | |   |     |     |   |       |       | |     | |   |       | |     | |   |                 |   |   |   |     |     | |     | |         | |   |       |         |       | |   |   \n" +
                    " | |         | |   | | | |   |     |     |   |       |       | |     | |   |       | |     | |   |                 |   |   |   |     |     | |     | |         | |   |       |         |       | |   |   \n" +
                    " | |         | |   | | | |   |     |     |   | +-------------|-|-------------------|-|-------|---|-----------------|---|---|---------|-----|-|-----|-|---------------|-------|---------|-------|-|-+ |   \n" +
                    " | |         | |   | | | |   |     |     |   | |     |       | |     | |   |       | |     | |   |                 |   |   |   |     |     | |     | |         | |   |       |         |       | | | |   \n" +
                    " | | +-------------|-|-|-----------------|---|-|-----|-------|---------|---|---------|-----|-|-------------------------|---|---|-------------|-----|-----------------|-------+         |       | | | |   \n" +
                    " | | |       | |   | | | |   |     |     |   | |     |       | |     | |   |       | |     | |   |                 |   |   |   |     |     | |     | |         | |   |                 |       | | | |   \n" +
                    " | | |       | |   | | | |   |     |     |   | +-----------------------|---------+ | |     | |   |       +---------|-----------|-----|-+   | |     | |         | |   |                 |       | | | |   \n" +
                    " | | |       | |   | | | |   |     |     |   |       |       | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |                 |       | | | |   \n" +
                    " | +---+     | |   | | | |   |     |     |   |       |       | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |                 |       | | | |   \n" +
                    " |   | |     | |   | | | |   |     |     |   |       |       | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |                 |       | | | |   \n" +
                    " |   | +-------|-----+ | |   |     |     |   |       |   +-----|-----------------|-|-|-----------|---------------------|---|---------|-------------|-----------|-----|-----------------|---+   | | | |   \n" +
                    " |   |       | |   |   | |   |     |     |   |       |   |   | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |                 |   |   | | | |   \n" +
                    " |   |       | |   |   | |   |     |     |   |       |   |   | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |                 |   |   | | | |   \n" +
                    " |   |       | |   |   | |   |     |     |   |       |   |   | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |                 |   |   | | | |   \n" +
                    " |   |       | |   |   | |   | +---------|---------------------|-----|-|---|-----|-|-------|-|---------------------|---|---|-----------------|-----|-------------------------+       +-|---|-------+ |   \n" +
                    " |   |       | |   |   | |   | |   |     |   |       |   |   | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |       |       | |   |   | |   |   \n" +
                    " |   |       | |   |   | |   | |   |     |   |       |   |   | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |       |       | |   |   | |   |   \n" +
                    " |   D       | |   |   | |   | |   |     |   |       |   |   | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |       |       | |   |   | |   |   \n" +
                    " |   |       | |   |   | |   | |   |     |   |       |   |   | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |       |       | |   |   | |   |   \n" +
                    " |   |       | |   |   | |   | |   |     |   |       |   |   | |     | |   |     | | |     | |   |       |         |   |   |   |     | |   | |     | |         | |   |       |       | |   |   | |   |   \n" +
                    " |   |       | |   |   | |   | |   |     |   |       | +-----|-------------------|---------------+       |         |   |   |   |     | |   | |     | |         | |   |       |       | |   |   | |   |   \n" +
                    " |   |       | |   |   | |   | |   |     |   |       | | |   | |     | |   |     | | |     | |           |         |   |   |   |     | |   | |     | |         | |   |       |       | |   |   | |   |   \n" +
                    " |   |       | |   |   | |   | |   |     |   |       | | |   | |     | |   |     | | |     | |           |         |   |   |   |     | |   +---------|-------------------------------------|---|---+ |   \n" +
                    " |   |       | |   |   | |   | |   |     |   |       | | |   | |     | |   |     | | |     | |           |         |   |   |   |     | |     |     | |         | |   |       |       | |   |   | | | |   \n" +
                    " |   |       | |   |   | |   | |   |     |   |       | | |   | +-----|-|---------|-|-|-----|-----------------------|-------|---|-------------+     | |   +-------|-----------|-------------------|-|-|-+ \n" +
                    " |   |       | |   |   | |   | |   |     |   |       | | |   |       | |   |     | | |     | |           |         |   |   |   |     | |           | |   |     | |   |       |       | |   |   | | | | | \n" +
                    " |   |       | |   |   | |   | |   +-----+   +-+     | | |   |       | |   |     | | |     | |           |         |   |   |   |     | |           | |   |     | |   |       |       | |   |   | | +-+ | \n" +
                    " |   |       | |   |   | |   | |               |     | | |   |       | |   |     | | |     | |           |         |   |   |   |     | |           | |   |     | |   |       |       | |   |   | |     | \n" +
                    " |   |       | |   |   | |   | |               |     | | |   |       | |   |     | | |     | +---------------------|---|---|---------+ |           | |   |     | |   |     +---------|-|-+ |   | | +---+ \n" +
                    " |   |       | |   |   | |   | |               |     | | |   |       | |   |     | | |     |             |         |   |   |   |       |           | |   |     | |   |     | |       | | | |   | | |     \n" +
                    " |   |       | |   |   | |   | +-------------+ |     | | |   |       | |   |     | | |     |             +---------|-+ |   |   |       |           | |   |     | |   |     | |       | | | |   | | |     \n" +
                    " |   |       | |   |   | |   |               | |     | | |   |       | |   |     | | |     |                       | | |   |   |       |           | |   |     | |   |     | |       | | | |   | | |     \n" +
                    " |   |     +-------|-----|---|---------------------------+   |       | |   |     +---|-+   |                       | | |   |   |       |           | |   |     | |   |     | |       | | | |   | | |     \n" +
                    " |   |     | | |   |   | |   |               | |     | |     |       | |   |       | | |   |                       | | |   |   |       |           | |   |     | |   |     | |       | | | |   | | |     \n" +
                    " |   |     | | |   |   | |   |               | |     | |     |       | |   +-----+ | | |   |                       | | | +-------------------------------|-----|-----|-----|-------------|-----|---|-+   \n" +
                    " |   |     | | |   |   | |   |               | |     | |     |       | |         | | | |   |                       | | | | |   |       |           | |   |     | |   |     | |       | | | |   | | | |   \n" +
                    " |   |     | | |   |   | |   |               | |     | |     |       | |         | | | |   |                       | | | | |   |       |           | |   |     | |   |     | |       | | | |   | | | |   \n" +
                    " |   |     | | |   |   | |   |               | |     | |     |       | |         | | | |   |                       | | | | |   |       |           | |   |     | |   |     | |       | | | |   | | | |   \n" +
                    " |   | +-----|---------|---------------------|-------|-+     |       | |         | | | |   |                       | | | | |   |       |           | |   |     | |   |     | |       | | | |   | | | |   \n" +
                    " |   | |   | | |   |   | |   |               | |     |       |       | |         | | | |   |                       | | | | |   |       |           | |   |     | |   |     | |       | | | |   | | | |   \n" +
                    " |   | |   | | | +-----|-|-------------------|-|-----|-------|-+     | |         | | | |   |                       | | | +---------------+         | |   |     | |   |     | |       | | +-+   | | | |   \n" +
                    " |   | |   | | | | |   | |   |               | |     |       | |     | |         | | | |   |                       | | |   |   |       | |         | |   |     | |   |     | |       | |       | | | |   \n" +
                    " +-----|-------|---|---------|-----------+   | |     |       | |     +-|---------|-|-------|-----------------------|-|-----|-------------|-----------|----Q------|---|---------------|-|---+   | | | |   \n" +
                    "     | |   | | | | |   | |   |           |   | |     |       | |       |         | | | |   |                       | | |   |   |       | |         | |   |     | |   |     | |       | |   |   | | | |   \n" +
                    "     | |   | | | | |   | |   |           |   | |     |       | |       |         +-------------------------------+ | | |   |   |       | |         | |   |     | |   |     | |       | |   |   | | | |   \n" +
                    "     | |   | | | | |   | |   |           |   | |     |       | |       |           | | |   |                     | | | |   |   |       | |         | |   |     | |   |     | |       | |   |   | | | |   \n" +
                    "     | |   | | | | |   | |   | +-------------|-------------------------|-----------|---|---|-------------+       | | | |   |   |       | |         | |   |     | | +-|---+ | |   +-+ | |   |   | | | |   \n" +
                    "     | |   | | | | |   | |   | |         |   | |     |       | |       |           | | |   |             |       | | | |   |   |       | |         | |   |     | | | |   | | |   | | | |   |   | | | |   \n" +
                    "     | |   | | | | |   | |   | | +-------+   | |     |       | |       |           | | |   |             |       +-|-|-|---------------|-------+   | |   |     | | | |   | | |   | +---------+ | | | |   \n" +
                    "     | |   | | | | |   | |   | | |           | |     |       | |       |           | | |   |             |         | | |   |   |       | |     |   | |   |     | | | |   | | |   |   | |   | | | | | |   \n" +
                    "     | |   | | | | |   | |   | | |       +---|-------------------------------------|-------------------------------|---|---------------|-|---------|-----------------+   | | |   |   | |   | | | | | |   \n" +
                    "     | |   | | | | |   | |   | | |       |   | |     |       | |       |           | | |   |             |         | | |   |   |       | |     |   | |   |     | | |     | | |   |   | |   | | | | | |   \n" +
                    " +---|-|-----|-|-------------|-|-|-------------+     |       | |       +-------------|-|-----------------|-----------|-----+   |       | |     |   | |   |     | | |   +-|---|---|---|-|-----+ | | | |   \n" +
                    " |   | |   | | | | |   | |   | | |       |   |       |       | |                   | | |   |             |         | | |       |       | |     |   | |   |     | | |   | | | |   |   | |   |   | | | |   \n" +
                    " |   | |   | +---|-|-----------+ |       |   |       |       | |                   | | |   |             |         +---|-----------------|---------|-+   |   +-----------+ | |   |   | |   |   | | | |   \n" +
                    " |   | |   |   | | |   | |   |   |       |   |       |       | |                   | | |   |             |           | |       |       | |     |   |     |   | | | |   |   | |   |   | |   |   | | | |   \n" +
                    " |   | |   |   | | +-+ | |   |   |       |   |       |       | |                   | | |   |             |           | |       |       | |     |   |     |   | | | |   |   | |   |   | |   +---|-|---+   \n" +
                    " |   | |   |   | |   | | |   |   |       |   |       |       | |                   | | |   |             |           | |       |       | |     |   |     |   | | | |   |   | |   |   | |       | | |     \n" +
                    " |   | |   |   | |   | | |   |   |       |   |       |       | |                   +-|-|---|-------------|-----------|-----------------|-|---------|---------|-----|---------|-------|---------|-+ |     \n" +
                    " |   | |   |   | |   | | |   |   |       |   |       |       | |                     | |   |             |           | |       |       | |     |   |     |   | | | |   |   | |   |   | |       |   |     \n" +
                    " |   | |   |   | |   | | |   |   |       |   |       |       | |                     | |   |             |           | +-------|-------------------------+   | | | |   |   | |   |   | |       |   |     \n" +
                    " |   | |   |   | |   | | |   |   |       |   |       |       | |                     | |   |             |           |         |       | |     |   |         | | | |   |   | |   |   | |       |   |     \n" +
                    " |   | |   |   | |   | | |   |   |       +-------------------|-|---------------------|---------------------------------------+ |       | |     |   | +-------------------+ | |   |   | |       |   |     \n" +
                    " |   | |   |   | |   | | |   |   |           |       |       | |                     | |   |             |           |       | |       | |     |   | |       | | | |   | | | |   |   | |       |   |     \n" +
                    " |   | |   |   | |   | | |   |   |           |       |       +-+                     | |   |             |           |       | |       | |     |   | |       | | | |   | | | |   |   | |       |   |     \n" +
                    " |   | |   |   | |   | | |   |   |           |       |                               | |   |             |           |       | |       | |     |   | |       | | | |   | | | |   |   | |       |   |     \n" +
                    " |   | |   |   | |   +---|---|-----------------------+                               | |   |             |           |   +-----|-------|-------|---|-+       | | | |   +-|-+ +-------|-|-+     +---|-+   \n" +
                    " |   | |   |   | |     | |   |   |           |                                       | |   |             |           |   |   | |       | |     |   |         | | | |     |       |   | | |         | |   \n" +
                    " +-----+   |   | |     | |   |   |           |                                       | |   |             |           |   +---|-|-------|-----------+ +-+     | | | |     +-----+ +---|-|-+         | |   \n" +
                    "     |     |   | |     | |   |   |           |                                       | |   |             |           |       | |       | |     |     | |     | | | |           |     | |           | |   \n" +
                    "     +---------+ |     +-----|---|---------------------------------------------------------|-------------|-----------|---------|---------------|---------------|---------------|-----|-+           | |   \n" +
                    "           |     |       |   |   |           |                                       | |   |             |           |       | |       | |     |     | |     | | | |           |     |             | |   \n" +
                    "           |     |       |   |   |           |                     +-----------------|-----|-----+       |           |       | |       +-|-----|-----|-+     +-+ | |           |     +---------------|-+ \n" +
                    "           |     |       |   |   |           |                     |                 | |   |     |       |           |       | |         |     |     |           | |           |                   | | | \n" +
                    "           |     |       |   |   |           +---------------------|-------------------|---|-------------|-----------|---------|---------+     |     |         +-------------+ |                   | | | \n" +
                    "           |     |       |   |   |                                 |                 | |   |     |       |           |       | |               |     |         | | |         | |                   | | | \n" +
                    "           |     |       +---|---+                                 |                 | |   |     |       |           |       +-|---------------|-----|-----------|-------------------------+       | | | \n" +
                    "           |     |           |                                     |                 | |   |     |       |           |         |               |     |         | | |         | |           |       | | | \n" +
                    " +---+     |     |           |                                     +-------------------+   |     |       |           +---------+               +-----+         | +-----------+ |           |       | | | \n" +
                    " |   |     |     |           |                                                       |     |     |       |                                                     |   |           |           |       | | | \n" +
                    " |   |     |     +-----------|-------------------------------------------------------------------+       +-----------------------------------------------------+   +-----------+           +-------+ | | \n" +
                    " |   |     |                 |                                                       |     |                                                                                                         | | \n" +
                    " +---|-----|-----------------+                                                       |     +-----------------------------------------------------------------------------------------------------------+ \n" +
                    "     |     |                                                                         |                                                                                                               |   \n" +
                    "     +-----+                                                                         +---------------------------------------------------------------------------------------------------------------+   \n" +
                    "                                                                                                                                                                                                         \n";

    @Test
    void solve() {
        assertEquals("ABCDEF", Puzzle19.solve(TEST_INPUT));
    }

    @Test
    void spike() {
        String result = Puzzle19.solve(INPUT);
        System.out.println("Puzzle 19: " + result);
        assertEquals("LOHMDQATP", result);
    }

    @Test
    void solveA() {
        assertEquals(38, Puzzle19.solveA(TEST_INPUT));
    }

    @Test
    void spikeA() {
        int result = Puzzle19.solveA(INPUT);
        System.out.println("Puzzle19a: " + result);
        assertEquals(16492, result);
    }
}
